<?php

namespace AppBundle\Repository;

/**
 * ReservaRepository
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class ReservaRepository extends \Doctrine\ORM\EntityRepository
{
	public function findByPropiedadAndSemana($prop,$sem,$anio)
	{
		return $this->createQueryBuilder('r')
			->join('r.propiedad','p')
            ->where('p.id = '.$prop)
            ->andWhere('r.semana = '.$sem)
            ->andWhere('r.anio = '.$anio)
            ->getQuery()
            ->getOneOrNullResult();
	}
}
